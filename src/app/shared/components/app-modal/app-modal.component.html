<p-dialog
  [(visible)]="visible"
  [header]="title"
  [modal]="true"
  [closeOnEscape]="true"
  [dismissableMask]="false"
  (onHide)="closeModal()"
  [styleClass]="'custom-modal bg-[rgb(245,245,245)]'"
  [breakpoints]="{ '960px': '75vw', '640px': '100vw' }"
>
  <!-- HR del encabezado -->
  <hr class="border-t border-gray-600 w-full dark:border-gray-300" />

  <div
    class="custom-scroll p-2 sm:p-4"
    style="max-height: 300px; overflow-y: auto"
  >
    <div class="flex flex-col space-y-6">
      <ng-container #dynamicContent></ng-container>
    </div>
  </div>

  <!-- HR del final -->
  <hr class="border-t border-gray-600 w-full dark:border-gray-300 mt-4" />

  <!-- Footer con botones -->
  <ng-template
    pTemplate="footer"
    *ngIf="currentConfig?.showButtons ?? true"
    class=""
  >
    <div class="flex justify-end gap-4 mt-1">
      <button
        *ngIf="currentConfig?.showButtons ?? true"
        pButton
        (click)="closeModal()"
        label="{{ 'modal.buttons.cancel' | transloco }}"
        class="w-full gap-2 p-2 text-white rounded-lg transition-colors duration-300 bg-red-800 hover:bg-red-700 mb-2 border border-red-800 hover:border-red-700"
      ></button>
      <button
        *ngIf="currentConfig?.showButtons ?? true"
        pButton
        (click)="onAccept()"
        label="{{ 'modal.buttons.acept' | transloco }}"
        class="w-full gap-2 p-2 text-white rounded-lg transition-colors duration-300 bg-green-800 hover:bg-green-700 mr-2 mb-2 border border-green-800 hover:border-green-700"
      ></button>
    </div>
  </ng-template>
</p-dialog>

<style>
  .custom-scroll::-webkit-scrollbar {
    width: 8px;
  }
  .custom-scroll::-webkit-scrollbar-track {
    background-color: #9ca3af;
  }
  .custom-scroll::-webkit-scrollbar-thumb {
    background-color: #9ca3af;
    border-radius: 10px;
    border: 2px solid #f1f1f1;
  }
  .custom-scroll::-webkit-scrollbar-thumb:hover {
    background-color: #9ca3af;
  }
  /* Para Firefox */
  .custom-scroll {
    scrollbar-width: thin;
    background-color: #9ca3af #f1f1f1;
  }
  /* Estilos para el modal */
  .custom-modal .p-dialog-content {
    overflow-x: auto;
  }
  .custom-modal .p-dialog {
    max-height: 90vh;
    overflow: hidden;
  }
  @media (max-width: 640px) {
    .custom-modal .p-dialog {
      width: 100vw !important;
      height: 100vh !important;
    }
  }
</style>
